(this["webpackJsonpreact-firebase"]=this["webpackJsonpreact-firebase"]||[]).push([[0],{29:function(e,t,a){e.exports=a(45)},34:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),s=(a(34),a(7)),i=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Wise App"),r.a.createElement(s.b,{to:"/game",className:"btn"},"Start Game"),r.a.createElement(s.b,{to:"/highScore",className:"btn"},"High Score"))},u=a(2),l=r.a.createContext(null),m=function(){return Object(n.useContext)(l)};function h(){var e=m(),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!0),i=Object(u.a)(s,2),l=i[0],h=i[1];Object(n.useEffect)((function(){e.scores().once("value",(function(e){var t=e.val(),a=f(t);o(a),h(!1)}))}),[e]);var f=function(e){var t=[];for(var a in e){var n=e[a];n.key=a,t.push(n)}return t.sort((function(e,t){return t.score-e.score})).slice(0,10)};return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",{id:"loader"}),!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"High Scores"),r.a.createElement("div",{id:"highScoresList"},c.map((function(e){return r.a.createElement("li",{key:e.key,className:"high-score"},e.name," - ",e.score)})))))}var f=a(11);a(39);function p(e){var t=e.question,a=e.changeQuestion,c=Object(n.useState)(""),o=Object(u.a)(c,2),s=o[0],i=o[1],l=Object(n.useState)(-1),m=Object(u.a)(l,2),h=m[0],f=m[1],p=Object(n.useState)(!1),v=Object(u.a)(p,2),b=v[0],d=v[1];return r.a.createElement("div",null,r.a.createElement("h2",{dangerouslySetInnerHTML:{__html:t.question}}),t.answerChoices.map((function(e,n){return r.a.createElement("div",{key:n,className:"choice-container ".concat(h===n&&s),onClick:function(){return function(e){if(!b){d(!0),f(e);var n=e===t.answer?"correct":"incorrect";i(n);var r=e===t.answer?10:0;setTimeout((function(){f(-1),d(!1),a(r)}),1e3)}}(n)}},r.a.createElement("p",{className:"choice-prefix"},n+1),r.a.createElement("p",{className:"choice-text",dangerouslySetInnerHTML:{__html:e}}))})))}var v=a(16),b=a.n(v),d=a(27),E=function(){var e=Object(d.a)(b.a.mark((function e(){var t,a,n,r,c,o,s,i,u=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:10,a=u.length>1&&void 0!==u[1]?u[1]:9,n=u.length>2&&void 0!==u[2]?u[2]:"easy",r=u.length>3&&void 0!==u[3]?u[3]:"multiple",c="https://opentdb.com/api.php?amount=".concat(t,"&category=").concat(a,"&difficulty=").concat(n,"&type=").concat(r),e.prev=5,e.next=8,fetch(c);case 8:return o=e.sent,e.next=11,o.json();case 11:return s=e.sent,i=s.results,e.abrupt("return",g(i));case 16:e.prev=16,e.t0=e.catch(5),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(){return e.apply(this,arguments)}}(),g=function(e){return e.map((function(e){var t={question:e.question,answerChoices:Object(f.a)(e.incorrect_answers)};return t.answer=Math.floor(4*Math.random()),t.answerChoices.splice(t.answer,0,e.correct_answer),t}))};function j(e){var t=e.max,a=e.current/t*100;return r.a.createElement("div",{id:"progressBar"},r.a.createElement("div",{id:"progressBarFull",style:{width:"".concat(a,"%")}}))}function O(e){var t=e.score,a=e.questionNumber;return r.a.createElement("div",{id:"hud"},r.a.createElement("div",{className:"hud"},r.a.createElement("p",{className:"hub-prefix"},"Question: ",a,"/10"),r.a.createElement("h1",{className:"hub-main-text"},t),r.a.createElement(j,{max:10,current:a})),r.a.createElement("div",{className:"hud"},r.a.createElement("p",{className:"hub-prefix"},"Score"),r.a.createElement("h1",{className:"hub-main-text"},t)))}function S(e){var t=e.score,a=e.scoreSaved,c=Object(n.useState)(""),o=Object(u.a)(c,2),i=o[0],l=o[1],h=m();console.log(h);return r.a.createElement("div",null,r.a.createElement("h1",null,t),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:i,score:t};h.scores().push(n,(function(){console.log("Score save in FireBaseDB"),a()})),console.log(n)}},r.a.createElement("input",{type:"text",name:"username",id:"username",placeholder:"name",value:i,onChange:function(e){var t=e.target.value;l(t)}}),r.a.createElement("button",{type:"submit",className:"btn",disabled:!i},"Save")),r.a.createElement(s.b,{to:"/",className:"btn"},"Go Home"))}function w(e){var t=e.history,a=Object(n.useState)([]),c=Object(u.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(null),l=Object(u.a)(i,2),m=l[0],h=l[1],v=Object(n.useState)(!0),b=Object(u.a)(v,2),d=b[0],g=b[1],j=Object(n.useState)(0),w=Object(u.a)(j,2),y=w[0],N=w[1],x=Object(n.useState)(0),k=Object(u.a)(x,2),q=k[0],C=k[1],_=Object(n.useState)(!1),B=Object(u.a)(_,2),I=B[0],z=B[1];Object(n.useEffect)((function(){E().then(s).catch((function(e){return console.error(e)}))}),[]);var A=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===o.length)return z(!0),N(y+e);var t=Math.floor(Math.random()*o.length),a=o[t],n=Object(f.a)(o);n.splice(t,1),s(n),h(a),g(!1),N(y+e),C(q+1)}),[y,q,o,s,g,h,C]);return Object(n.useEffect)((function(){!m&&o.length&&A()}),[m,o,A]),r.a.createElement(r.a.Fragment,null,d&&!I&&r.a.createElement("div",{id:"loader"}),!d&&!I&&m&&r.a.createElement("div",null,r.a.createElement(O,{score:y,questionNumber:q}),r.a.createElement(p,{question:m,changeQuestion:A})),I&&r.a.createElement(S,{score:y,scoreSaved:function(){t.push("/")}}))}var y=a(6);a(41);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(y.a,{exact:!0,path:"/",component:i}),r.a.createElement(y.a,{path:"/game",component:w}),r.a.createElement(y.a,{path:"/highScore",component:h})))},x=a(28),k=a(17),q=a.n(k),C=(a(42),{apiKey:"AIzaSyD5Wj6p_42XAGnU-eXoyE_i3SAlTYegIxY",authDomain:"react-quiz-97221.firebaseapp.com",databaseURL:"https://react-quiz-97221.firebaseio.com",projectId:"react-quiz-97221",storageBucket:"react-quiz-97221.appspot.com",messagingSenderId:"650938378971"}),_=function e(){var t=this;Object(x.a)(this,e),this.scores=function(){return t.db.ref("scores")},q.a.initializeApp(C),this.db=q.a.database()};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.Provider,{value:new _},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.21ad04f3.chunk.js.map